<!doctype html>
<html lang="pt-br">
    <head>
        <title>Testando Uls</title>
        <meta charset="utf-8">
        <meta name="author" content="Gabriel">
        <meta name="description" content="Teste">
        <meta name="keywords" content="Teste">
        <style>
            .done {
                text-decoration: line-through;
                color: #555;
            }
        </style>
    </head>
    <body>
        
        <main>
            <input type="text" id="txtTask">
            <input type="submit" id="btn">
            <ul>
                <li>Item 1</li>
                <li>Item 2</li>
                <li>Item 3</li>
                <li>Item 4</li>
            </ul>

        </main>
        
        <script>
            (function(){
                'use strict';
                
                var $ul = document.querySelector('ul');
                var $lis = $ul.querySelectorAll("li");
                var $txtTask = document.querySelector('#txtTask');
                var $btn = document.querySelector("#btn");
                
                $btn.addEventListener('click', addTask);
                
                function addTask(){
                                        
                    var li = document.createElement('li');
                    var text = document.createTextNode($txtTask.value);
    
                    li.appendChild(text);

                    $ul.appendChild(li);

                    $txtTask.value = '';
                    $txtTask.focus();

                }
                
                $txtTask.addEventListener('keyup', (e) => {
                    if (e.keyCode === 13){
                        addTask();
                    }

                });

                $ul.addEventListener("click", (e) =>{
                    if(e.target.nodeName == "LI"){
                        toggleDone(e.target);
                    }
                })

                function toggleDone(target){
                    target.classList.toggle("done");
                }
                
                                       
            })();
        </script>
    </body>

</html>